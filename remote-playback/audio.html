<!DOCTYPE html>
<head>
  <title>Remote Playback Audio Demo</title>
   <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<html>
  <audio src='../media/tetris.mp3' width=400 controls></audio>
  <button id=play>Play</button><button id=pause>Pause</button><button id=cast>Cast</button>
</html>
<script>
var audio = document.querySelector('audio');
var play = document.getElementById('play');
var pause = document.getElementById('pause');
var cast = document.getElementById('cast');

play.onclick = () => audio.play();
pause.onclick = () => audio.pause();
cast.onclick = () => {
  audio.remote.connect().then(success => {
    console.log('success: ' + success);
  });
};

/*
audio.remote.getAvailability().then(availability => {
  availability.onchange = () => {
    if (this.value)
      cast.hidden = false;
    else
      cast.hidden = true;
  };
  if (availability.value)
    cast.hidden = false;
  else
    cast.hidden = true;
  console.log(availability.value);
});
*/
</script>
