<!DOCTYPE html>
<html>
<head>
  <title>Test page for autoplay workaround</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
</body>
<script>
  var v = document.createElement('video');
  var context = new AudioContext();
  // There might be simpler way to get a MediaStream but the basic ctor doesn't work.
  var stream = context.createMediaStreamDestination().stream;
  v.srcObject = stream;
  document.body.appendChild(v);

  // There is likely an event we can listen to.
  setTimeout(_ => {
    v.src = 'https://storage.googleapis.com/dalecurtis-shared/buck2.mp4';
    v.play();
  }, 2000);
</script>
</html>
